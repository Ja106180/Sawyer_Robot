# 🎓 卡尔曼滤波学习指南

## 👋 欢迎，同学！

我是你的专属指导教授。我们将用**世界上最好的方法**，从零基础到能够用C++实现IMU的卡尔曼滤波。

## 📍 当前进度

✅ **已完成**：
- 学习路径规划
- 第1课：基础概念（README已创建）
- 第2课：数学基础（README已创建）
- 第3课：一维卡尔曼滤波（代码已实现并测试通过）

## 🚀 如何开始学习

### 第一步：理解概念
1. 阅读 `lesson_01_concepts/README.md` - 理解为什么需要卡尔曼滤波
2. 阅读 `lesson_02_math/README.md` - 掌握必要的数学基础

### 第二步：运行第一个例子
```bash
cd /home/mycar/catkin_ws/src/study/lesson_03_1d_kalman
./run_example.sh
```

观察输出：
- **测量值**：带噪声的传感器读数（不准确）
- **估计值**：卡尔曼滤波后的结果（更准确）
- **不确定性**：逐渐减小（因为我们有了更多信息）
- **误差**：最终误差只有0.12°C，非常接近真实值25°C！

### 第三步：理解代码
打开 `simple_kalman.cpp`，仔细阅读：
- `predict()` 函数：预测步骤
- `update()` 函数：更新步骤
- `step()` 函数：完整的预测-更新循环

## 💡 关键理解点

### 从第3课的代码中，你应该理解：

1. **预测（Predict）**
   ```cpp
   uncertainty_ = uncertainty_ + process_noise_;
   ```
   - 状态不变（温度基本不变）
   - 不确定性增加（因为我们不完美）

2. **更新（Update）**
   ```cpp
   kalman_gain = uncertainty_ / (uncertainty_ + measurement_noise_);
   state_ = state_ + kalman_gain * (measurement - state_);
   uncertainty_ = (1.0 - kalman_gain) * uncertainty_;
   ```
   - 计算增益：决定相信预测还是测量
   - 融合信息：加权平均
   - 不确定性减少：因为有了新信息

3. **卡尔曼增益的含义**
   - 如果 `uncertainty_` 很大（预测不可靠）→ 增益接近1 → 更相信测量
   - 如果 `measurement_noise_` 很大（测量不可靠）→ 增益接近0 → 更相信预测

## 🎯 下一步学习计划

### 第4课：多维卡尔曼滤波
- 学习处理多个状态（如位置+速度）
- 使用矩阵表示
- 引入Eigen库（ROS常用）

### 第5课：扩展卡尔曼滤波（EKF）
- 处理非线性系统
- IMU的模型是非线性的
- 学习雅可比矩阵

### 第6课：IMU应用实战
- IMU数据模型
- 姿态估计（roll, pitch, yaw）
- 完整项目实现

## 📝 学习建议

1. **不要急于求成**：每一步都要理解透彻
2. **多运行代码**：修改参数，观察效果
3. **画图理解**：在纸上画预测-更新循环
4. **提问**：随时问我问题

## 🔧 工具准备

- **编译器**：g++（已安装）
- **CMake**：构建工具（已安装）
- **Eigen库**：后续课程需要（ROS通常自带）

## ❓ 常见问题

**Q: 为什么不确定性会减小？**
A: 因为每次更新都融合了新信息，减少了不确定性。

**Q: 卡尔曼增益为什么在0到1之间？**
A: 它表示"相信测量的程度"，0=完全不信，1=完全相信。

**Q: 什么时候用卡尔曼滤波？**
A: 当你有模型预测和传感器测量，想融合两者时。

---

**准备好了吗？让我们开始第1课！** 📚

